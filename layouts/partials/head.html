<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
<meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
<!-- <link rel="preload" href="{{ "fonts/Mulish-Regular.woff2" | relURL }}" as="font" type="font/woff2" crossorigin> -->
<!-- <link rel="preload" href="{{ "fonts/Mulish-Bold.woff2" | relURL }}" as="font" type="font/woff2" crossorigin> -->
<!-- <link rel="preload" href="{{ "fonts/Mulish-Italic.woff2" | relURL }}" as="font" type="font/woff2" crossorigin> -->
<!-- <link rel="preload" href="{{ "fonts/Mulish-BoldItalic.woff2" | relURL }}" as="font" type="font/woff2" crossorigin> -->
<script>
    // Prevent flash of white in dark mode by applying theme immediately
    (function() {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (prefersDark) {
            document.documentElement.classList.add('dark');
            // Set background color immediately to prevent flash
            document.documentElement.style.backgroundColor = '#1a1a1a';
        } else {
            document.documentElement.classList.add('light');
            document.documentElement.style.backgroundColor = '#ffffff';
        }
    })();
</script>
{{- $mainCSS := resources.Get "css/main.css" }}
{{- $chromaCSS := resources.Get "css/chroma-xcode-dark.css" }}
{{- $stylesheet := slice $mainCSS $chromaCSS | resources.Concat "css/styles.css" | resources.Minify }}
{{- if eq hugo.Environment "development" }}
<link crossorigin="anonymous" href="{{ $stylesheet.RelPermalink }}" rel="preload stylesheet preconnect" as="style">
{{- else }}
{{- $secureStylesheet := $stylesheet | resources.Fingerprint "sha512" }}
<link crossorigin="anonymous" href="{{ $secureStylesheet.RelPermalink }}" integrity="{{ $secureStylesheet.Data.Integrity }}" rel="preload stylesheet preconnect" as="style">
{{- end }}
<link rel="canonical" href="{{ .Permalink }}">
